(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1048],{6929:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify-phone",function(){return r(4360)}])},4360:function(e,n,r){"use strict";r.r(n);var t=r(4051),s=r.n(t),a=r(5893),o=(r(1664),r(9583)),i=r(2920),c=r(7294),u=r(196),l=r(461),d=r(1163);function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function h(e,n,r,t,s,a,o){try{var i=e[a](o),c=i.value}catch(u){return void r(u)}i.done?n(c):Promise.resolve(c).then(t,s)}function f(e){return function(){var n=this,r=arguments;return new Promise((function(t,s){var a=e.apply(n,r);function o(e){h(a,t,s,o,i,"next",e)}function i(e){h(a,t,s,o,i,"throw",e)}o(void 0)}))}}function m(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,s,a=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(t=r.next()).done)&&(a.push(t.value),!n||a.length!==n);o=!0);}catch(c){i=!0,s=c}finally{try{o||null==r.return||r.return()}finally{if(i)throw s}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return p(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.default=function(){var e=(0,d.useRouter)(),n=(0,c.useState)(!1),r=n[0],t=n[1],p=(0,c.useState)(!1),h=p[0],v=p[1],b=m((0,l.Z)(["token","user"]),3),y=b[0],g=b[1],x=(b[2],function(){var n=f(s().mark((function n(r){var a,o;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(!0),r.preventDefault(),n.prev=2,n.next=5,u.ZP.post("".concat("http://localhost:8000/","api/v1/verify-phone-number"),{token:r.target.token.value});case 5:200==(a=n.sent).status&&(console.log(a.data),g("user",a.data),(0,i.Am)("Successfully verified"),e.push("/account")),n.next=16;break;case 9:if(n.prev=9,n.t0=n.catch(2),n.t0.response.data){n.next=14;break}return i.Am.error("Something went wrong"),n.abrupt("return");case 14:"token"==(o=n.t0.response.data).key&&"token.invalid"==o.type&&i.Am.error("Invalid Token");case 16:t(!1);case 17:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()),w=function(){var e=f(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),void 0==y.user&&i.Am.error("Something went wrong"),e.prev=2,e.next=5,u.ZP.post("".concat("http://localhost:8000/","api/v1/send-token"),{phone_number:y.user.phone_number});case 5:200==e.sent.status&&(0,i.Am)("Sent Successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i.Am.error("Something is went wrong");case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){w()}),[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.Z,{parent:"Home",sub:"Pages",subChild:"Verify Phone Number",children:(0,a.jsx)("div",{className:"page-content pt-150 pb-150",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-lg-2"}),(0,a.jsx)("div",{className:"col-lg-8",children:(0,a.jsx)("div",{className:"login_wrap widget-taber-content background-white",children:(0,a.jsxs)("div",{className:"padding_eight_all bg-white",children:[(0,a.jsxs)("div",{className:"heading_s1",children:[(0,a.jsx)("h1",{className:"mb-5",children:"Verify Phone Number"}),(0,a.jsxs)("p",{className:"mb-30",children:["Did not receive message yet? ",(0,a.jsxs)("button",{type:"submit",className:"btn btn-heading btn-block hover-up btn-sm",disabled:h,onClick:function(){return w()},children:[h&&(0,a.jsx)("span",{className:"spinner-border spinner-border-sm mr-5",role:"status","aria-hidden":"true"}),"Resend"]})]})]}),(0,a.jsxs)("form",{method:"post",onSubmit:x,children:[(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{type:"text",required:"",name:"token",placeholder:"Enter 6 digit pin*",autoComplete:"off"})}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsxs)("button",{type:"submit",className:"btn btn-heading btn-block hover-up",disabled:r,children:[r&&(0,a.jsx)("span",{className:"spinner-border spinner-border-sm mr-5",role:"status","aria-hidden":"true"}),"Verify"]})})]})]})})}),(0,a.jsx)("div",{className:"col-lg-2"})]})})})})})}}},function(e){e.O(0,[2348,196,9583,9774,2888,179],(function(){return n=6929,e(e.s=n);var n}));var n=e.O();_N_E=n}]);