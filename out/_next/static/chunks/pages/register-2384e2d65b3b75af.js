(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{5511:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return t(3187)}])},3187:function(e,r,t){"use strict";t.r(r);var n=t(4051),a=t.n(n),s=t(5893),o=t(1664),i=t.n(o),u=t(9583),l=t(2920),c=t(7294),d=t(196),m=t(1163),p=t(461);function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function f(e,r,t,n,a,s,o){try{var i=e[s](o),u=i.value}catch(l){return void t(l)}i.done?r(u):Promise.resolve(u).then(n,a)}function g(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,s=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(s.push(n.value),!r||s.length!==r);o=!0);}catch(u){i=!0,a=u}finally{try{o||null==t.return||t.return()}finally{if(i)throw a}}return s}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return h(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.default=function(){var e=(0,m.useRouter)(),r=g((0,p.Z)(["token","user"]),3),t=(r[0],r[1]),n=(r[2],(0,c.useState)(!1)),o=n[0],h=n[1],v=function(){var r,n=(r=a().mark((function r(n){var s,o;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return h(!0),n.preventDefault(),r.prev=2,r.next=5,d.ZP.post("".concat("http://localhost:8000/","api/v1/register"),{name:n.target.name.value,password:n.target.password.value,phone_number:n.target.phone_number.value,password_confirmation:n.target.password_confirmation.value});case 5:200==(s=r.sent).status&&(t("token",s.data.bearer),t("user",s.data.user),e.push("/account")),r.next=16;break;case 9:if(r.prev=9,r.t0=r.catch(2),r.t0.response.data){r.next=14;break}return l.Am.error("Something went wrong"),r.abrupt("return");case 14:"name"==(o=r.t0.response.data).key?"string.empty"==o.type&&l.Am.error("Name is required"):"phone_number"==o.key?"string.empty"==o.type?l.Am.error("Phone number is required"):"user.exists"==o.type&&l.Am.error("This phone number is already registered"):"password"==o.key?("string.empty"==o.type&&l.Am.error("Password is required"),"string.min"==o.type&&l.Am.error("Password must be atleast 8 characters")):"password_confirmation"==o.key&&("string.empty"==o.type?l.Am.error("Confirmation Password is required"):"any.only"==o.type&&l.Am.error("Confirmation Password does not match"));case 16:h(!1);case 17:case"end":return r.stop()}}),r,null,[[2,9]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var s=r.apply(e,t);function o(e){f(s,n,a,o,i,"next",e)}function i(e){f(s,n,a,o,i,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(u.Z,{parent:"Home",sub:"Pages",subChild:"Register",children:(0,s.jsx)("div",{className:"page-content pt-150 pb-150",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-lg-2"}),(0,s.jsx)("div",{className:"col-lg-8",children:(0,s.jsx)("div",{className:"login_wrap widget-taber-content background-white",children:(0,s.jsxs)("div",{className:"padding_eight_all bg-white",children:[(0,s.jsxs)("div",{className:"heading_s1",children:[(0,s.jsx)("h1",{className:"mb-5",children:"Register"}),(0,s.jsxs)("p",{className:"mb-30",children:["Already have an account? ",(0,s.jsx)(i(),{href:"/login",children:(0,s.jsx)("a",{children:"Login here"})})]})]}),(0,s.jsxs)("form",{method:"post",onSubmit:v,children:[(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("input",{type:"text",required:"",name:"name",placeholder:"Name*",autoComplete:"off"})}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("input",{type:"text",required:"",name:"phone_number",placeholder:"Phone Number* (e.g 923013454323)",autoComplete:"off"})}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("input",{required:"",type:"password",name:"password",placeholder:"Password*",autoComplete:"off"})}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("input",{required:"",type:"password",name:"password_confirmation",placeholder:"Confirm Password*",autoComplete:"off"})}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsxs)("button",{type:"submit",className:"btn btn-heading btn-block hover-up",name:"login",disabled:o,children:[o&&(0,s.jsx)("span",{className:"spinner-border spinner-border-sm mr-5",role:"status","aria-hidden":"true"}),"Register"]})})]})]})})}),(0,s.jsx)("div",{className:"col-lg-2"})]})})})})})}}},function(e){e.O(0,[2348,196,9583,9774,2888,179],(function(){return r=5511,e(e.s=r);var r}));var r=e.O();_N_E=r}]);